<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,user-scalable=no"
    />
    <title>Online Tuner</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
  </head>
  <body>




    <div id="tuner">
      <canvas class="frequency-bars"></canvas>
      <div class="meter">
        <div class="meter-dot"></div>
        <div class="meter-pointer"></div>
      </div>
      <div class="notes">
        <div class="notes-list"></div>
        <div class="frequency">
          <span>Hz</span>
        </div>
      </div>
      <div class="a4">A<sub>4</sub> = <span>440</span> Hz</div>
      <label class="auto">
        Auto
        <input type="checkbox" checked id="auto-checkbox" />
      </label>

      
      
      <button id="hide-tuner" data-tuner="off">x</button>

    </div>


    <button id="show-tuner" data-tuner="on">show</button>



  </body>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
  <script src="https://cdn.jsdelivr.net/npm/aubiojs@0.1.1/build/aubio.min.js"></script>
  <script src="tuner.js"></script>
  <script src="meter.js"></script>
  <!-- <script src="frequency-bars.js"></script> -->
  <script src="notes.js"></script>
  <script src="app.js"></script>


  <script>

      


      // $("#show-tuner").click(function () {
      //   const tunerApp = new Application();
      //   $("#tuner").show(500, function () {
      //       tunerApp.start();
      //   });
  
      // });

      // $("#hide-tuner").click(function () {
      //   // delete tunerApp.tuner;
      //   // delete tunerApp.notes;
      //   // delete tunerApp.meter;
      //   // delete tunerApp.update;

      //   tunerApp.oscillator.stop()
      //   $("#tuner").hide(500);
        
      // })


      $("#show-tuner, #hide-tuner").click(function () {
        var tunerApp = new Application();
        var TUNER = tunerApp.tuner;



        var tunerSwitch = $(this).attr("data-tuner");
        console.log(tunerSwitch);
        if (tunerSwitch =="on") {
          $("#tuner").show(500, function () {
            tunerApp.start();
          });
        } else {

          // if($("#auto-checkbox").prop('checked') != true){
          //      $("#auto-checkbox").click();
          // };

          //tunerApp.tuner.oscillator.stopOscillator();

          //TUNER.stopOscillator();

          tunerApp.tuner.notes.stopOscillator();
          
          $("#tuner").hide(500);
        
        
        
        }
      
      
      
      
      
      });



  
  </script>


</html>
